# -flto + -Wlto-type-mismatch
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} \
                    -Wpedantic \
                    -pedantic-errors \
                    -Wall \
                    -Wextra \
                    -Winline \
                    -Werror \
                    -Winvalid-pch \
                    -Wcast-qual \
                    -Wlogical-op \
                    -Wno-changes-meaning \
                    -Wold-style-cast \
                    -Woverloaded-virtual \
                    -Wredundant-decls \
                    -Wsign-promo \
                    -Wstrict-null-sentinel \
                    -Wstrict-overflow=5 \
                    -Walloc-zero \
                    -Wunused \
                    -Wunused-parameter \
                    -Wunused-result \
                    -Wunused-const-variable=1 \
                    -Wstringop-overflow \
                    -Winvalid-memory-model \
                    -Wmaybe-uninitialized \
                    -Warray-bounds=2 \
                    -Warray-parameter=2 \
                    -Wshift-negative-value \
                    -Wshift-overflow=2 \
                    -Winvalid-constexpr \
                    -Winvalid-imported-macros \
                    -Wnoexcept \
                    -Wswitch-default \
                    -Wplacement-new=2 \
                    -Waligned-new \
                    -Wuse-after-free=3 \
                    -Wdouble-promotion \
                    -Wformat=2 \
                    -Wformat-overflow=2 \
                    -Wformat-nonliteral \
                    -Wformat-security \
                    -Wformat-signedness \
                    -Wformat-truncation=2 \
                    -Wzero-length-bounds \
                    -Wdiv-by-zero \
                    -Wuninitialized \
                    -Wnull-dereference \
                    -Wimplicit-fallthrough=5 \
                    -Wsuggest-attribute=const \
                    -Wduplicated-branches \
                    -Wduplicated-cond \
                    -Wattribute-alias \
                    -Wfloat-equal \
                    -Wshadow \
                    -Wunsafe-loop-optimizations \
                    -Wundef \
                    -Wcast-align=strict \
                    -Wcast-function-type \
                    -Wwrite-strings \
                    -Wenum-conversion \
                    -Wlogical-op \
                    -Wlogical-not-parentheses \
                    -Wconversion \
                    -Wsign-compare \
                    -Wmissing-declarations\
                    -Wmissing-requires \
                    -Wmissing-template-keyword \
                    -Wredundant-decls \
                    -fstrict-aliasing \
                    -Wstrict-aliasing=3 \
                    -fstack-protector \
                    -fstack-protector-all \
                    -fstack-protector-strong \
                    -fstack-clash-protection \
                    -Wstack-protector \
                    -faligned-new \
                    -fstrict-enums \
                    -fdiagnostics-color=always \
                    -fdiagnostics-show-template-tree \
                    -fsanitize=undefined \
                    -fsanitize=leak \
                    -fsanitize=address \
                    -fsanitize=pointer-compare \
                    -fsanitize=pointer-subtract \
                    -Weffc++ \
                    -Wnon-virtual-dtor \
                    -ggdb3"
    CACHE STRING "Default CXX options" FORCE)

set(CMAKE_CXX_COMPILER "g++-13")
set(CMAKE_CXX_STANDARD 20)
